# ๐ ููู ูุชุนุฑู ูุธุงู ุงูุชุญูู ุนูู ุงููุนุฑูุงุชุ

## ๐ ุงููุดููุฉ ุงูุชู ูุงุฌูุชูุง

ุนูุฏูุง ุญุงููุช ุงูุชุญูู ูู ุงููุนุฑู `2GIB20I2FI2I2` (ุงูููุฌูุฏ ูู ุดูุงุฏุฉ ุงููุฑุดุฉ)ุ ูู ูุชุนุฑู ุนููู ุงููุธุงู. ุงูุณุจุจ ูู ุฃู ูุฐุง ุงููุนุฑู **ูุง ูุชุจุน ุงูุตูุบุฉ ุงูููุญุฏุฉ ุงูุฌุฏูุฏุฉ**.

---

## ๐ฏ ุญู ุงููุดููุฉ

ูููุง ุจุชุญุฏูุซ ูุธุงู ุงูุชุญูู ููุฏุนู **ููุนูู ูู ุงููุนุฑูุงุช**:

### 1๏ธโฃ ุงููุนุฑูุงุช ุงูุฌุฏูุฏุฉ (ุงูุตูุบุฉ ุงูููุญุฏุฉ)

```
TYPE-YEAR-CODE
```

**ุฃูุซูุฉ:**

- `CERT-2026-A1B2C3` - ุดูุงุฏุฉ ูุฑุดุฉ
- `REC-2026-X7Y8Z9` - ุชูุตูุฉ
- `SCI-2026-R5T6Y7` - ุชูุฑูุฑ SCI
- `EXEC-2026-M4N5P6` - ุนุถููุฉ ุชูููุฐูุฉ

### 2๏ธโฃ ุงููุนุฑูุงุช ุงููุฏููุฉ (ุตูุบ ูุชููุนุฉ)

```
ุฃู ุตูุบุฉ ุฃุฎุฑู
```

**ุฃูุซูุฉ:**

- `2GIB20I2FI2I2` - ูุนุฑู ูุฏูู
- `WARRANT-2026-123456` - ูุนุฑู ุดูุงุฏุฉ ูุฏูู
- `CLST-2026-4396/5` - ูุนุฑู ุจุตูุบุฉ ูุฎุตุตุฉ

---

## ๐ ุขููุฉ ุนูู ูุธุงู ุงูุชุญูู ุงููุญุฏูุซ

### ุงูุฎุทูุฉ 1: ุงุณุชูุจุงู ุงููุนุฑู

```typescript
const rawId = searchParams.get("id"); // ูุซุงู: "2GIB20I2FI2I2"
```

### ุงูุฎุทูุฉ 2: ุชูุณูู ุงููุนุฑู

```typescript
const id = formatReferenceId(rawId); // ุชุญููู ุฅูู UPPERCASE
// ุงููุชูุฌุฉ: "2GIB20I2FI2I2"
```

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงูุตูุบุฉ (ุงุฎุชูุงุฑู)

```typescript
const validation = validateReferenceId(id);
// ุฅุฐุง ูุงูุช ุงูุตูุบุฉ ุฌุฏูุฏุฉ: validation.valid = true
// ุฅุฐุง ูุงูุช ุงูุตูุบุฉ ูุฏููุฉ: validation.valid = false
// โ ููู ูุณุชูุฑ ูู ุงูุจุญุซ ูู ููุง ุงูุญุงูุชูู!
```

### ุงูุฎุทูุฉ 4: ุงูุจุญุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูุจุญุซ ุงููุธุงู ูู **7 ููุฏููุงุช** ุจุงูุชุฑุชูุจ:

#### 1. User (memberId)

```typescript
const userByMemberId = await User.findOne({ memberId: id });
```

**ูุจุญุซ ุนู:** `EXEC-2026-A1B2C3` ุฃู ุฃู ูุนุฑู ุขุฎุฑ

#### 2. Certificate (certificateId)

```typescript
const cert = await Certificate.findOne({ certificateId: id });
```

**ูุจุญุซ ุนู:**

- `CERT-2026-A1B2C3` (ุฌุฏูุฏ)
- `2GIB20I2FI2I2` (ูุฏูู) โ
- `WARRANT-2026-123456` (ูุฏูู) โ

#### 3. PerformanceProfile (referenceId)

```typescript
const profile = await PerformanceProfile.findOne({ referenceId: id });
```

#### 4. Recommendation (referenceId)

```typescript
const rec = await Recommendation.findOne({ referenceId: id });
```

#### 5. JobAlignment (referenceId)

```typescript
const alignment = await JobAlignment.findOne({ referenceId: id });
```

#### 6. Diagnosis (referenceId)

```typescript
const diagnosis = await Diagnosis.findOne({ referenceId: id });
```

#### 7. Simulation (referenceId)

```typescript
const simulation = await Simulation.findOne({ referenceId: id });
```

### ุงูุฎุทูุฉ 5: ุฅุฑุฌุงุน ุงููุชูุฌุฉ

```typescript
if (cert) {
  return NextResponse.json({
    success: true,
    data: {
      type: "workshop_attestation",
      userName: cert.userName,
      title: cert.courseTitle,
      date: cert.issueDate,
      status: "Verified Credentials",
      referenceId: id,
      verified: true,
    },
  });
}
```

---

## ๐ ุฌุฏูู ููุงุฑูุฉ ุงูุตูุบ

| ุงูุตูุบุฉ                 | ูุซุงู                  | ูุชุนุฑู ุนูููุงุ | ุงูููุฏูู        |
| ---------------------- | --------------------- | ------------ | -------------- |
| **ุตูุบุฉ ุฌุฏูุฏุฉ ููุญุฏุฉ**   | `CERT-2026-A1B2C3`    | โ ูุนู       | Certificate    |
| **ุตูุบุฉ ูุฏููุฉ ุนุดูุงุฆูุฉ** | `2GIB20I2FI2I2`       | โ ูุนู       | Certificate    |
| **ุตูุบุฉ WARRANT**       | `WARRANT-2026-123456` | โ ูุนู       | Certificate    |
| **ุตูุบุฉ ูุน ุดุฑุทุฉ ูุงุฆูุฉ** | `CLST-2026-4396/5`    | โ ูุนู       | Certificate    |
| **ุตูุบุฉ ุฌุฏูุฏุฉ ููุญุฏุฉ**   | `REC-2026-X7Y8Z9`     | โ ูุนู       | Recommendation |
| **ุตูุบุฉ ุฌุฏูุฏุฉ ููุญุฏุฉ**   | `SCI-2026-R5T6Y7`     | โ ูุนู       | Diagnosis      |
| **ุตูุบุฉ ุฌุฏูุฏุฉ ููุญุฏุฉ**   | `EXEC-2026-M4N5P6`    | โ ูุนู       | User           |

---

## ๐งช ุงุฎุชุจุงุฑ ุงููุนุฑู `2GIB20I2FI2I2`

### ุงูุทุฑููุฉ 1: ุนุจุฑ ุงููุชุตูุญ

```
http://localhost:3000/verification?id=2GIB20I2FI2I2
```

### ุงูุทุฑููุฉ 2: ุนุจุฑ API ูุจุงุดุฑุฉ

```bash
curl http://localhost:3000/api/verify-document?id=2GIB20I2FI2I2
```

### ุงููุชูุฌุฉ ุงููุชููุนุฉ

```json
{
  "success": true,
  "data": {
    "type": "workshop_attestation",
    "typeName": {
      "ar": "ุดูุงุฏุฉ ูุฑุดุฉ ุชูููุฐูุฉ",
      "en": "Executive Workshop Certificate",
      "fr": "Certificat d'Atelier Exรฉcutif"
    },
    "userName": "DEVENIR RESPONSABLE QHSE",
    "title": "M4-TRAINING-CONSULTING",
    "date": "2024-10-07T00:00:00.000Z",
    "status": "Verified Credentials",
    "referenceId": "2GIB20I2FI2I2",
    "verified": true
  }
}
```

---

## ๐ง ููู ุชู ุฅุตูุงุญ ุงููุดููุฉุ

### ูุจู ุงูุชุญุฏูุซ โ

```typescript
// ูุงู ุงููุธุงู ูุฑูุถ ุงููุนุฑูุงุช ุงูุชู ูุง ุชุชุจุน ุงูุตูุบุฉ ุงูุฌุฏูุฏุฉ
const validation = validateReferenceId(id);
if (!validation.valid) {
  return NextResponse.json(
    {
      success: false,
      error: validation.error,
    },
    { status: 400 },
  );
}
```

### ุจุนุฏ ุงูุชุญุฏูุซ โ

```typescript
// ุงูุขู ุงููุธุงู ููุจู ุฌููุน ุงูุตูุบ ููุจุญุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
const validation = validateReferenceId(id);
// ูุชุฌุงูู ูุชูุฌุฉ ุงูุชุญูู ููุจุญุซ ูุจุงุดุฑุฉ
// (ูุฏุนู ุงููุนุฑูุงุช ุงููุฏููุฉ ูุซู 2GIB20I2FI2I2)
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

### 1. ุงูุชูุงูู ูุน ุงูุฃูุธูุฉ ุงููุฏููุฉ

- โ ุฌููุน ุงููุนุฑูุงุช ุงููุฏููุฉ ุชุนูู ุจุฏูู ูุดุงูู
- โ ูุง ุญุงุฌุฉ ูุชุญุฏูุซ ุงููุนุฑูุงุช ุงูููุฌูุฏุฉ
- โ ุงููุธุงู ูุฏุนู ุงูุตูุบุชูู ูุนุงู

### 2. ุงูุตูุบุฉ ุงูููุญุฏุฉ ุงูุฌุฏูุฏุฉ

- ๐ ุชูุณุชุฎุฏู ูููุนุฑูุงุช ุงูุฌุฏูุฏุฉ ููุท
- ๐ ุชููุฑ ูุนูููุงุช ุฅุถุงููุฉ (ุงูููุนุ ุงูุณูุฉ)
- ๐ ุฃุณูู ูู ุงูููู ูุงูุชุชุจุน

### 3. ุฃููููุฉ ุงูุจุญุซ

ุงููุธุงู ูุจุญุซ ุจุงูุชุฑุชูุจ ุงูุชุงูู:

1. User (memberId)
2. Certificate (certificateId) โ **ููุง ูุฌุฏ `2GIB20I2FI2I2`**
3. PerformanceProfile
4. Recommendation
5. JobAlignment
6. Diagnosis
7. Simulation

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ุงูุณุคุงู: ููุงุฐุง ูู ูุชุนุฑู ุงููุธุงู ุนูู `2GIB20I2FI2I2`ุ

**ุงูุฌูุงุจ:** ูุงู ุงููุธุงู ูุฑูุถ ุงููุนุฑูุงุช ุงูุชู ูุง ุชุชุจุน ุงูุตูุบุฉ ุงูุฌุฏูุฏุฉ `TYPE-YEAR-CODE`.

### ุงูุญู: ูุงุฐุง ูุนููุงุ

1. โ ุฃุฒููุง ุงูุชุญูู ุงูุฅุฌุจุงุฑู ูู ุงูุตูุบุฉ
2. โ ุณูุญูุง ูููุธุงู ุจุงูุจุญุซ ุนู ุฃู ูุนุฑู
3. โ ุญุงูุธูุง ุนูู ุฏุนู ุงูุตูุบุฉ ุงูุฌุฏูุฏุฉ ูููุนุฑูุงุช ุงูุฌุฏูุฏุฉ

### ุงููุชูุฌุฉ:

๐ **ุงูุขู ุงููุธุงู ูุชุนุฑู ุนูู ุฌููุน ุงููุนุฑูุงุช:**

- ุงููุนุฑูุงุช ุงูุฌุฏูุฏุฉ: `CERT-2026-A1B2C3`
- ุงููุนุฑูุงุช ุงููุฏููุฉ: `2GIB20I2FI2I2`
- ุงููุนุฑูุงุช ุงููุฎุตุตุฉ: `WARRANT-2026-123456`

---

## ๐งช ุงุฎุชุจุฑ ุจููุณู

### 1. ุงูุชุญ ุตูุญุฉ ุงูุงุฎุชุจุงุฑ

```
http://localhost:3000/dev/test-references
```

### 2. ุฌุฑูุจ ูุฐู ุงููุนุฑูุงุช

- `2GIB20I2FI2I2` โ ูุนุฑู ูุฏูู
- `CERT-2026-A1B2C3` โ ูุนุฑู ุฌุฏูุฏ
- `WARRANT-2026-123456` โ ูุนุฑู ูุฎุตุต

### 3. ุงูุชุญ ุตูุญุฉ ุงูุชุญูู ุงูุนุงูุฉ

```
http://localhost:3000/verification?id=2GIB20I2FI2I2
```

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2026-02-16 23:30
**ุงูุญุงูุฉ:** โ ูุนูู ุจุดูู ูุงูู
**ุฏุนู ุงููุนุฑูุงุช ุงููุฏููุฉ:** โ ููุนูู
